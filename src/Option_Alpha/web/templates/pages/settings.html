{% extends "base.html" %}

{% block title %}Settings â€” Option Alpha{% endblock %}

{% block content %}
<div class="space-y-6">
  <h1 class="text-2xl font-bold text-zinc-100">Settings</h1>

  {% if saved %}
  <div class="bg-emerald-950/50 border border-emerald-800 rounded-lg px-4 py-3">
    <p class="text-emerald-300 text-sm">Settings saved successfully.</p>
  </div>
  {% endif %}

  <form method="post" action="/settings" class="space-y-6">

    <!-- Ollama Configuration -->
    <div class="bg-zinc-900 border border-zinc-800 rounded-lg p-6">
      <h2 class="text-lg font-semibold text-zinc-200 mb-4">Ollama Configuration</h2>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="ollama_endpoint" class="block text-sm font-medium text-zinc-400 mb-1">
            Endpoint URL
          </label>
          <input type="url" id="ollama_endpoint" name="ollama_endpoint"
                 value="{{ settings.ollama_endpoint }}"
                 class="w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-100
                        focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500">
        </div>
        <div>
          <label for="ollama_model" class="block text-sm font-medium text-zinc-400 mb-1">
            Model Name
          </label>
          <input type="text" id="ollama_model" name="ollama_model"
                 value="{{ settings.ollama_model }}"
                 class="w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-100
                        focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500">
        </div>
      </div>
    </div>

    <!-- Scan Defaults -->
    <div class="bg-zinc-900 border border-zinc-800 rounded-lg p-6">
      <h2 class="text-lg font-semibold text-zinc-200 mb-4">Scan Defaults</h2>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="scan_top_n" class="block text-sm font-medium text-zinc-400 mb-1">
            Top N Results
          </label>
          <input type="number" id="scan_top_n" name="scan_top_n"
                 value="{{ settings.scan_top_n }}" min="1" max="100"
                 class="w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-100
                        focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500">
        </div>
        <div>
          <label for="scan_min_volume" class="block text-sm font-medium text-zinc-400 mb-1">
            Minimum Volume
          </label>
          <input type="number" id="scan_min_volume" name="scan_min_volume"
                 value="{{ settings.scan_min_volume }}" min="0"
                 class="w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-100
                        focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500">
        </div>
        <div>
          <label for="scan_dte_min" class="block text-sm font-medium text-zinc-400 mb-1">
            Min DTE (Days)
          </label>
          <input type="number" id="scan_dte_min" name="scan_dte_min"
                 value="{{ settings.scan_dte_min }}" min="0" max="365"
                 class="w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-100
                        focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500">
        </div>
        <div>
          <label for="scan_dte_max" class="block text-sm font-medium text-zinc-400 mb-1">
            Max DTE (Days)
          </label>
          <input type="number" id="scan_dte_max" name="scan_dte_max"
                 value="{{ settings.scan_dte_max }}" min="0" max="365"
                 class="w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-100
                        focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500">
        </div>
      </div>
    </div>

    <!-- Save Button -->
    <div class="flex justify-end">
      <button type="submit"
              class="px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm font-medium transition-colors">
        Save Settings
      </button>
    </div>
  </form>
</div>
{% endblock %}
